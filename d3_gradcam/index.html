<html>

  <head>
    <script src="https://d3js.org/d3.v5.js"></script>
      <style>
      image.gray {
        -webkit-filter: grayscale(1); /* Google Chrome, Safari 6+ & Opera 15+ */
        filter: grayscale(1); /* Microsoft Edge and Firefox 35+ */
      }
      
      image.color {
        -webkit-filter: grayscale(0); /* Google Chrome, Safari 6+ & Opera 15+ */
        filter: grayscale(0); /* Microsoft Edge and Firefox 35+ */
        border-radius: 1000px;
      }
      </style>
  </head>

  <body bgcolor="#bdbdbd">
     <!-- bgcolor is only because white hurts my eyes :P --> 
     <div>
       <!-- buttons -->
       <div style="float: left;width: 10%;margin-top: 200;margin-left: 30;">
         <select id='study_selection'>
          <option value="0">All studies</option>
          <option value="3">Finger</option>
          <option value="7">Hand</option>
          <option value="5">Wrist</option>
          <option value="6">Forearm</option>
          <option value="4">Elbow</option>
          <option value="2">Humerus</option>
          <option value="1">Shoulder</option>

        </select> 
        <br>
        <input type="file" id="radiograph_upload" name="upload"
       accept="image/jpg" style="margin-top: 10;">
        <button style="margin-top: 10;" onclick="generate_cams()">
          Generate
        </button>
       </div>    
       <!-- cams -->
      <div id="svg_div" style="text-align:center;">
    </div>
     </div>
  </body>

  <script src="gradcam.js"></script>

  <!-- button hanler -->
  <script>
    var select_study = document.getElementById('study_selection');
    var file_upload = document.getElementById('radiograph_upload');
    function generate_cams() {
      if (file_upload.value != "") {
        // 
        console.log("Add image: " + file_upload.value);
      } else {
        d3.json('http://127.0.0.1:5000/main' + '/' + select_study.value).then(function(data){
          console.log(data);
          study_data = data["alexNet"];
          class_data = data["denseNet"];
          updateCams(study_data["paths"], study_data["true_label"], study_data["pred_label"],
                     class_data["paths"], class_data["true_label"], class_data["pred_label"]);
        });
      }
    }
  </script>

</html>
